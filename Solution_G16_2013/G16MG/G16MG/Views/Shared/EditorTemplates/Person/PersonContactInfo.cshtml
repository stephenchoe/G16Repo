@model G16_2013.Models.MemberModel.PersonContactInfoInputModel

@*<div class="tab-pane fade active in" id="divPersonContactinfo">*@
@using (Ajax.BeginForm("UpdatePersonContactInfo", "Person", new AjaxOptions { UpdateTargetId = "divPersonContactinfo" }, new { @class = "form-horizontal" }))
{
    @Html.HiddenFor(m => m.Id)


    <div class="form-group">
        @Html.LabelFor(m => m.Phone, new { @class = "col-md-1 control-label " })
        <div class="col-md-10">
            @Html.TextBoxFor(m => m.Phone, new { @class = "form-control input-sm" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.TEL, new { @class = "col-md-1 control-label" })
        <div class="col-md-10">
            @Html.TextBoxFor(m => m.TEL, new { @class = "form-control input-sm" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.Email, new { @class = "col-md-1 control-label" })
        <div class="col-md-10">
            @Html.TextBoxFor(m => m.Email, new { @class = "form-control input-sm" })
        </div>
    </div>
    <div class="form-group">
        @Html.EditorFor(m => m.AddressInput, "Address")
    </div>
    <hr />



    <div class="form-group">
        <div class="col-md-10  col-lg-offset-1">
            <button class="btn btn-default btn-sm" type="button" id="btnCancel">取消</button>
            <button class="btn btn-primary btn-sm" type="submit">儲存</button>
        </div>
    </div>


}@*end form*@

@*</div>*@


@using (Html.BeginScriptContext())
{


    Html.AddScriptBlock(
        @<script type="text/javascript">

            $("#btnCancel").click(function (e) {
                e.preventDefault();

                var actionUrl = '@Url.Action("ReadPersonContactInfo", "Person", new { id = Model.Id, allowEdit = true })';
                var type = "GET";
                var divToReplace = $("#divPersonContactinfo");

                AsyncUpdate(actionUrl, type, divToReplace);

            })
        </script>
, true);
}
